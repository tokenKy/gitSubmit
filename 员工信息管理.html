<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body,h3,ul{margin:0;padding: 0}
        em{font-style:normal}
        #IdCare{width:600px;margin:0 auto}
        #header{height:30px;font:14px/30px '微软雅黑';text-align:center}
        #header em{font-style:normal;text-align: right;display:inline-block}
    </style>
    <script>
        const arr1=[
            {
                name:'刘伟',
                sex:'男',
                age:40,
                office:"yes"
            },
            {
                name:'小月',
                sex:'女',
                age:24,
                office:"no"
            }
        ];
        let arr2=[];
        //学习框架的必要，是学习他的设计思想，操作数据来更新dom
    </script>
</head>
<body>
    <section id="IdCare">
       <div id="header">
           <span>员工信息管理</span>

       </div>
        <button class="btn">添加</button>
        <button class="two">数组二</button>
    </section>
<script>
    let ul=document.createElement('ul');
    let p=null;
    const Btn=document.querySelector('.btn');
    Btn.addEventListener('click',function(){
       arr1.push({
           name:'刘青云',
           sex:'男',
           age:45,
           office:"no"
                });
        returnPt(arr1)

    });
    const str=document.body;
    function returnPt(MathTeam)
    {
        console.log(MathTeam);
        let html='';
        MathTeam.forEach(function(item){
            console.log(item,1);
            html+=`
                <li>
                    <span>${item.name}</span>
                    <span>${item.sex}</span>
                    <span>${item.age}</span>
                    <em>${item.office==='yes'?'在职':'离职'}</em>
                    <button>删除</button>
                </li>
            `;
            ul.innerHTML=html;
            str.appendChild(ul)
        });

        let office=document.querySelectorAll('li em');
        let button=document.querySelectorAll('li button');
        for(var i=0;i<office.length;i++)
        {
            office[i].index=i;
            office[i].addEventListener('click',function(){
                console.log(MathTeam[0].office);
                if(MathTeam[this.index].office==='yes')
                {
                    MathTeam[this.index].office='no';
                }
                else{
                    MathTeam[this.index].office='yes';
                }
                returnPt(MathTeam)
            });
        }
        for(var j=0;j<office.length;j++)
        {
            button[j].index=j;
            button[j].addEventListener('click',function(){
                 p=MathTeam.splice(this.index,1); //splice方法返回的是删除元素的‘数组’
                arr2.push(...p) //要想得到删除的元素就得把数组展开
                j--;
                if(this.index===0)
                {
                    this.parentNode.remove()
                }
                returnPt(MathTeam)
            })
        }
    }
    returnPt(arr1);
const Two=document.querySelector('.two');
    Two.addEventListener('click',function(){
        returnPt(arr2);
    })
</script>
</body>
</html>